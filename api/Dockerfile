FROM python:3.13-slim
# Evitar archivos pyc y logs buffer
ENV PYTHONDONTWRITEBYTECODE=1
ENV PYTHONUNBUFFERED=1
ENV DATABASE_PATH=api/db/database.db
ENV FLASK_APP=app
ENV FLASK_ENV=development
ENV FLASK_RUN_HOST=0.0.0.0
ENV FLASK_RUN_PORT=5001
ENV PYTHONPATH=.

WORKDIR /app

# Copiar solo requirements.txt primero
COPY requirements.txt .

# Instalar dependencias
RUN pip install --no-cache-dir -r requirements.txt

# Copiar el resto del c√≥digo
COPY . .

# Exponer puerto
EXPOSE 5001

# Comando para ejecutar Flask
CMD ["flask", "run"]


