<nav class="side-menu" [class.hidden]="isHidden">
  <mat-list>
    <a
      *ngFor="let link of topLinks"
      mat-list-item
      class="menu-item"
      [routerLink]="link.route"
      routerLinkActive="active-link"
      [routerLinkActiveOptions]="{ exact: !!link.exact }">
      <mat-icon matListItemIcon>{{ link.icon }}</mat-icon>
      <span matListItemTitle>{{ link.label }}</span>
    </a>

    <mat-expansion-panel
      *ngFor="let section of sections"
      hideToggle
      class="menu-expansion-panel"
      #panel>
      <mat-expansion-panel-header class="menu-item">
        <mat-panel-title class="expansion-title">
          <mat-icon class="menu-icon" *ngIf="section.icon">{{ section.icon }}</mat-icon>
          <mat-icon class="menu-icon" *ngIf="section.symbol">
            <span class="material-symbols-outlined">{{ section.symbol }}</span>
          </mat-icon>
          <span class="menu-text">{{ section.title }}</span>
          <mat-icon class="chevron-icon">{{ panel.expanded ? 'expand_less' : 'expand_more' }}</mat-icon>
        </mat-panel-title>
      </mat-expansion-panel-header>

      <mat-nav-list dense class="submenu">
        <a
          *ngFor="let link of section.links"
          mat-list-item
          class="submenu-item"
          [routerLink]="link.route"
          routerLinkActive="active-link">
          <span>{{ link.label }}</span>
        </a>
      </mat-nav-list>
    </mat-expansion-panel>

    <a
      *ngFor="let link of bottomLinks"
      mat-list-item
      class="menu-item"
      [routerLink]="link.route"
      routerLinkActive="active-link">
      <mat-icon matListItemIcon>{{ link.icon }}</mat-icon>
      <span matListItemTitle>{{ link.label }}</span>
    </a>
  </mat-list>
</nav>
